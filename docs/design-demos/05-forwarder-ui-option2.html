<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rusty Timer - Forwarder UI Layout (Option 2)</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  darkMode: 'class',
  theme: {
    extend: {
      fontFamily: {
        sans: ['"IBM Plex Sans"', 'system-ui', 'sans-serif'],
        mono: ['"JetBrains Mono"', '"Fira Code"', 'ui-monospace', 'monospace'],
      },
    },
  },
}
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --surface-0: #ffffff; --surface-1: #f8f9fa; --surface-2: #f0f1f3; --surface-3: #e4e6e9;
    --border: #dde0e4; --border-strong: #c0c4ca;
    --text-primary: #1a1d23; --text-secondary: #4a5060; --text-muted: #7c8494;
    --status-ok: #117a3e; --status-ok-bg: #e6f4ec; --status-ok-border: #a3d9b8;
    --status-warn: #8a6d00; --status-warn-bg: #fef7e0; --status-warn-border: #f0d460;
    --status-err: #c42b2b; --status-err-bg: #fde8e8; --status-err-border: #f0a0a0;
    --accent: #2563eb; --accent-hover: #1d4ed8; --accent-bg: #eff4ff;
  }
  .dark {
    --surface-0: #0f1114; --surface-1: #161921; --surface-2: #1e222c; --surface-3: #282d3a;
    --border: #2e3443; --border-strong: #404858;
    --text-primary: #e8eaef; --text-secondary: #a0a8b8; --text-muted: #6b7385;
    --status-ok: #3ccc6e; --status-ok-bg: #0f2918; --status-ok-border: #1a4d2e;
    --status-warn: #f0c030; --status-warn-bg: #2a2310; --status-warn-border: #4d3f1a;
    --status-err: #f06060; --status-err-bg: #2a1010; --status-err-border: #4d1a1a;
    --accent: #5b8def; --accent-hover: #7ba3ff; --accent-bg: #1a2540;
  }
  body {
    font-family: 'IBM Plex Sans', system-ui, sans-serif;
    background: var(--surface-0);
    color: var(--text-primary);
    margin: 0;
  }
</style>
</head>
<body>

<header style="background: var(--surface-1); border-bottom: 1px solid var(--border);">
  <div style="max-width: 900px; margin: 0 auto; padding: 0 1.5rem; display: flex; align-items: center; height: 48px; gap: 2rem;">
    <span class="text-sm font-bold" style="color: var(--text-primary); letter-spacing: -0.02em;">Rusty Timer</span>
    <nav class="flex gap-1" style="height: 100%;">
      <a href="#" class="flex items-center px-3 text-sm font-medium" style="color: var(--accent); border-bottom: 2px solid var(--accent); text-decoration: none;">Status</a>
      <a href="#" class="flex items-center px-3 text-sm font-medium" style="color: var(--text-secondary); border-bottom: 2px solid transparent; text-decoration: none;">Config</a>
    </nav>
    <div style="margin-left: auto; display: flex; align-items: center; gap: 0.75rem;">
      <span class="text-xs font-mono" style="color: var(--text-muted);">fwd-ba4b4f75643c76b4</span>
      <button onclick="document.documentElement.classList.toggle('dark')" class="p-1.5 rounded-md" style="background: var(--surface-2); border: 1px solid var(--border); cursor: pointer; color: var(--text-secondary); font-size: 0.75rem;">
        Theme
      </button>
    </div>
  </div>
</header>

<main style="max-width: 900px; margin: 0 auto; padding: 1.5rem;">
  <div class="rounded-md px-4 py-3 mb-4 flex items-center justify-between text-sm"
    style="background: var(--status-ok-bg); border: 1px solid var(--status-ok-border); color: var(--status-ok);">
    <span class="font-medium">Update v1.5.0 available</span>
    <button class="px-3 py-1 text-xs font-medium rounded-md text-white" style="background: var(--status-ok); border: none; cursor: pointer;">
      Update Now
    </button>
  </div>

  <h1 class="text-xl font-bold mb-6" style="color: var(--text-primary);">Forwarder</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">Status</h2>
      <dl class="grid gap-2 text-sm" style="grid-template-columns: auto 1fr;">
        <dt style="color: var(--text-muted);">Forwarder ID</dt>
        <dd class="font-mono" style="color: var(--text-primary);">fwd-ba4b4f75643c76b4</dd>
        <dt style="color: var(--text-muted);">Version</dt>
        <dd class="font-mono" style="color: var(--text-primary);">0.1.0</dd>
        <dt style="color: var(--text-muted);">Readiness</dt>
        <dd>
          <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
            style="background: var(--status-ok-bg); color: var(--status-ok); border: 1px solid var(--status-ok-border);">
            <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-ok); display: inline-block;"></span>
            ready
          </span>
        </dd>
      </dl>
    </section>

    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">Service</h2>
      <dl class="grid gap-2 text-sm" style="grid-template-columns: auto 1fr;">
        <dt style="color: var(--text-muted);">Uplink</dt>
        <dd>
          <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
            style="background: var(--status-ok-bg); color: var(--status-ok); border: 1px solid var(--status-ok-border);">
            <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-ok); display: inline-block;"></span>
            connected
          </span>
        </dd>
        <dt style="color: var(--text-muted);">Restart Needed</dt>
        <dd>
          <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
            style="background: var(--status-warn-bg); color: var(--status-warn); border: 1px solid var(--status-warn-border);">
            <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-warn); display: inline-block;"></span>
            pending
          </span>
        </dd>
      </dl>
      <div class="mt-3 pt-3 flex items-center gap-2" style="border-top: 1px solid var(--border);">
        <button class="px-3 py-1.5 text-sm font-medium rounded-md text-white"
          style="background: var(--accent); border: none; cursor: pointer;">
          Restart Now
        </button>
        <span class="text-xs" style="color: var(--text-muted);">Applies recent config changes.</span>
      </div>
    </section>
  </div>

  <section class="rounded-lg overflow-hidden mb-6" style="border: 1px solid var(--border); background: var(--surface-1);">
    <div class="px-4 py-3 flex items-center justify-between" style="border-bottom: 1px solid var(--border); background: var(--surface-2);">
      <h2 class="text-sm font-semibold" style="color: var(--text-primary);">Readers</h2>
      <span class="text-xs" style="color: var(--text-muted);">2 connected / 3 configured</span>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full text-sm" style="border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 1px solid var(--border);">
            <th class="text-left px-4 py-2.5 font-medium text-xs" style="color: var(--text-secondary);">Reader IP</th>
            <th class="text-left px-4 py-2.5 font-medium text-xs" style="color: var(--text-secondary);">Status</th>
            <th class="text-right px-4 py-2.5 font-medium text-xs" style="color: var(--text-secondary);">Reads (session)</th>
            <th class="text-right px-4 py-2.5 font-medium text-xs" style="color: var(--text-secondary);">Reads (total)</th>
            <th class="text-left px-4 py-2.5 font-medium text-xs" style="color: var(--text-secondary);">Last seen</th>
            <th class="px-4 py-2.5"></th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td class="px-4 py-2.5 font-mono" style="color: var(--text-primary);">127.0.0.1:10002</td>
            <td class="px-4 py-2.5">
              <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
                style="background: var(--status-ok-bg); color: var(--status-ok); border: 1px solid var(--status-ok-border);">
                <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-ok); display: inline-block;"></span>
                connected
              </span>
            </td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">102</td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">102</td>
            <td class="px-4 py-2.5 text-xs" style="color: var(--text-secondary);">0s ago</td>
            <td class="px-4 py-2.5 text-right">
              <button class="px-2 py-1 text-xs rounded-md" style="background: var(--surface-0); color: var(--text-secondary); border: 1px solid var(--border); cursor: pointer;">
                Reset Epoch
              </button>
            </td>
          </tr>
          <tr style="border-bottom: 1px solid var(--border);">
            <td class="px-4 py-2.5 font-mono" style="color: var(--text-primary);">127.0.0.1:10003</td>
            <td class="px-4 py-2.5">
              <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
                style="background: var(--status-ok-bg); color: var(--status-ok); border: 1px solid var(--status-ok-border);">
                <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-ok); display: inline-block;"></span>
                connected
              </span>
            </td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">102</td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">102</td>
            <td class="px-4 py-2.5 text-xs" style="color: var(--text-secondary);">0s ago</td>
            <td class="px-4 py-2.5 text-right">
              <button class="px-2 py-1 text-xs rounded-md" style="background: var(--surface-0); color: var(--text-secondary); border: 1px solid var(--border); cursor: pointer;">
                Reset Epoch
              </button>
            </td>
          </tr>
          <tr>
            <td class="px-4 py-2.5 font-mono" style="color: var(--text-primary);">127.0.0.1:10001</td>
            <td class="px-4 py-2.5">
              <span class="inline-flex items-center gap-1.5 text-xs font-medium px-2 py-0.5 rounded-full"
                style="background: var(--status-err-bg); color: var(--status-err); border: 1px solid var(--status-err-border);">
                <span style="width: 6px; height: 6px; border-radius: 50%; background: var(--status-err); display: inline-block;"></span>
                disconnected
              </span>
            </td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">0</td>
            <td class="px-4 py-2.5 text-right font-mono" style="color: var(--text-primary);">0</td>
            <td class="px-4 py-2.5 text-xs" style="color: var(--text-secondary);">3m ago</td>
            <td class="px-4 py-2.5 text-right">
              <button class="px-2 py-1 text-xs rounded-md" style="background: var(--surface-0); color: var(--text-secondary); border: 1px solid var(--border); cursor: pointer;">
                Reset Epoch
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="rounded-lg overflow-hidden mb-6" style="border: 1px solid var(--border); background: var(--surface-1);">
    <div class="px-4 py-3 flex items-center justify-between" style="border-bottom: 1px solid var(--border); background: var(--surface-2);">
      <h2 class="text-sm font-semibold" style="color: var(--text-primary);">Logs</h2>
      <span class="text-xs" style="color: var(--text-muted);">6 entries</span>
    </div>
    <div style="max-height: 220px; overflow-y: auto; font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; line-height: 1.6;">
      <div class="px-4 py-0.5" style="border-bottom: 1px solid var(--border);">
        <span style="color: var(--text-muted);">2026-02-20T14:13:32Z</span>
        <span class="ml-2 px-1 rounded text-xs" style="background: var(--status-ok-bg); color: var(--status-ok);">INFO</span>
        <span class="ml-2" style="color: var(--text-primary);">Connected</span>
      </div>
      <div class="px-4 py-0.5" style="border-bottom: 1px solid var(--border);">
        <span style="color: var(--text-muted);">2026-02-20T14:13:32Z</span>
        <span class="ml-2 px-1 rounded text-xs" style="background: var(--status-ok-bg); color: var(--status-ok);">INFO</span>
        <span class="ml-2" style="color: var(--text-primary);">Forwarded chip read seq=42</span>
      </div>
      <div class="px-4 py-0.5" style="border-bottom: 1px solid var(--border);">
        <span style="color: var(--text-muted);">2026-02-20T14:11:17Z</span>
        <span class="ml-2 px-1 rounded text-xs" style="background: var(--surface-2); color: var(--text-muted);">DEBUG</span>
        <span class="ml-2" style="color: var(--text-primary);">Status HTTP listening on 127.0.0.1:9090</span>
      </div>
      <div class="px-4 py-0.5" style="border-bottom: 1px solid var(--border);">
        <span style="color: var(--text-muted);">2026-02-20T14:11:17Z</span>
        <span class="ml-2 px-1 rounded text-xs" style="background: var(--status-ok-bg); color: var(--status-ok);">INFO</span>
        <span class="ml-2" style="color: var(--text-primary);">Reader 127.0.0.1:10002 connected</span>
      </div>
      <div class="px-4 py-0.5">
        <span style="color: var(--text-muted);">2026-02-20T14:11:17Z</span>
        <span class="ml-2 px-1 rounded text-xs" style="background: var(--status-ok-bg); color: var(--status-ok);">INFO</span>
        <span class="ml-2" style="color: var(--text-primary);">Forwarder started</span>
      </div>
    </div>
  </section>

  <div style="border-top: 3px dashed var(--border); margin: 2.5rem 0 1rem; padding-top: 1rem;">
    <p class="text-xs font-medium mb-2" style="color: var(--text-muted);">Below: Config view with the same card rhythm as Receiver/Server pages</p>
  </div>

  <div class="rounded-md px-4 py-3 mb-4 flex items-center justify-between text-sm"
    style="background: var(--status-warn-bg); border: 1px solid var(--status-warn-border); color: var(--status-warn);">
    <span class="font-medium">Configuration changed. Restart to apply.</span>
    <button class="px-3 py-1 text-xs font-medium rounded-md text-white" style="background: var(--status-warn); border: none; cursor: pointer;">
      Restart Now
    </button>
  </div>

  <h1 class="text-xl font-bold mb-6" style="color: var(--text-primary);">Config</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">General</h2>
      <div class="grid gap-3">
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Display Name</label>
          <input type="text" value="start-line-01" class="w-full px-3 py-1.5 text-sm rounded-md"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
      </div>
      <button class="mt-3 px-3 py-1.5 text-sm font-medium rounded-md text-white"
        style="background: var(--accent); border: none; cursor: pointer;">
        Save General
      </button>
    </section>

    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">Server</h2>
      <div class="grid gap-3">
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Base URL</label>
          <input type="text" value="https://timer.example.com" class="w-full px-3 py-1.5 text-sm rounded-md font-mono"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Forwarders WS Path</label>
          <input type="text" value="/ws/forwarders" class="w-full px-3 py-1.5 text-sm rounded-md font-mono"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
      </div>
      <button class="mt-3 px-3 py-1.5 text-sm font-medium rounded-md text-white"
        style="background: var(--accent); border: none; cursor: pointer;">
        Save Server
      </button>
    </section>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">Auth + Journal</h2>
      <div class="grid gap-3">
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Token File</label>
          <input type="text" value="/etc/rusty-timer/token.txt" class="w-full px-3 py-1.5 text-sm rounded-md font-mono"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">SQLite Path</label>
          <input type="text" value="/var/lib/rusty-timer/forwarder.db" class="w-full px-3 py-1.5 text-sm rounded-md font-mono"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
      </div>
      <button class="mt-3 px-3 py-1.5 text-sm font-medium rounded-md text-white"
        style="background: var(--accent); border: none; cursor: pointer;">
        Save Auth/Journal
      </button>
    </section>

    <section class="rounded-lg p-4" style="background: var(--surface-1); border: 1px solid var(--border);">
      <h2 class="text-sm font-semibold mb-3" style="color: var(--text-primary);">Uplink + Status HTTP</h2>
      <div class="grid gap-3">
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Batch Mode</label>
          <select class="w-full px-3 py-1.5 text-sm rounded-md"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
            <option>immediate</option>
            <option selected>time</option>
            <option>count</option>
          </select>
        </div>
        <div>
          <label class="block text-xs font-medium mb-1" style="color: var(--text-muted);">Status Bind</label>
          <input type="text" value="127.0.0.1:9090" class="w-full px-3 py-1.5 text-sm rounded-md font-mono"
            style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
        </div>
      </div>
      <button class="mt-3 px-3 py-1.5 text-sm font-medium rounded-md text-white"
        style="background: var(--accent); border: none; cursor: pointer;">
        Save Uplink/HTTP
      </button>
    </section>
  </div>

  <section class="rounded-lg overflow-hidden" style="border: 1px solid var(--border); background: var(--surface-1);">
    <div class="px-4 py-3 flex items-center justify-between" style="border-bottom: 1px solid var(--border); background: var(--surface-2);">
      <h2 class="text-sm font-semibold" style="color: var(--text-primary);">Readers Config</h2>
      <button class="px-3 py-1 text-xs font-medium rounded-md"
        style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-secondary); cursor: pointer;">
        + Add Reader
      </button>
    </div>
    <div class="overflow-x-auto p-4">
      <table class="w-full text-sm" style="border-collapse: collapse;">
        <thead>
          <tr style="border-bottom: 1px solid var(--border);">
            <th class="text-left py-2 px-2 text-xs font-medium" style="color: var(--text-muted);">Target</th>
            <th class="text-left py-2 px-2 text-xs font-medium" style="color: var(--text-muted);">Enabled</th>
            <th class="text-left py-2 px-2 text-xs font-medium" style="color: var(--text-muted);">Fallback Port</th>
            <th class="py-2 px-2"></th>
          </tr>
        </thead>
        <tbody>
          <tr style="border-bottom: 1px solid var(--border);">
            <td class="py-1.5 px-2">
              <input type="text" value="127.0.0.1:10001" class="w-full px-2 py-1 text-sm rounded-md font-mono"
                style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
            </td>
            <td class="py-1.5 px-2">
              <input type="checkbox" checked style="accent-color: var(--accent);">
            </td>
            <td class="py-1.5 px-2">
              <input type="number" value="12484" class="w-full px-2 py-1 text-sm rounded-md font-mono"
                style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
            </td>
            <td class="py-1.5 px-2 text-right">
              <button class="px-2 py-1 text-xs rounded-md"
                style="color: var(--status-err); border: 1px solid var(--status-err-border); background: var(--status-err-bg); cursor: pointer;">
                Remove
              </button>
            </td>
          </tr>
          <tr>
            <td class="py-1.5 px-2">
              <input type="text" value="127.0.0.1:10002" class="w-full px-2 py-1 text-sm rounded-md font-mono"
                style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);">
            </td>
            <td class="py-1.5 px-2">
              <input type="checkbox" checked style="accent-color: var(--accent);">
            </td>
            <td class="py-1.5 px-2">
              <input type="number" class="w-full px-2 py-1 text-sm rounded-md font-mono"
                style="background: var(--surface-0); border: 1px solid var(--border); color: var(--text-primary);" placeholder="">
            </td>
            <td class="py-1.5 px-2 text-right">
              <button class="px-2 py-1 text-xs rounded-md"
                style="color: var(--status-err); border: 1px solid var(--status-err-border); background: var(--status-err-bg); cursor: pointer;">
                Remove
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <button class="mt-3 px-3 py-1.5 text-sm font-medium rounded-md text-white"
        style="background: var(--accent); border: none; cursor: pointer;">
        Save Readers
      </button>
    </div>
  </section>
</main>

<footer style="border-top: 1px solid var(--border); padding: 0.75rem 1.5rem; text-align: center;">
  <p class="text-xs" style="color: var(--text-muted);">Rusty Timer &middot; Forwarder</p>
</footer>

</body>
</html>
